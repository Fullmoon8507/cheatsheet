****************************************************************************************************
* 基本
****************************************************************************************************
【Mode一覧（基本）】
|-----------------------+----------------------------------------------------------------------|
| モード名              | 内容                                                                 |
|-----------------------+----------------------------------------------------------------------|
| ノーマルモード        | 普通の編集コマンドを全て入力できる。エディタ起動直後のモード。       |
| 挿入モード            | テキスト入力（編集）を行う。                                         |
| ビジュアルモード      | テキストの部分を選択し、操作ができる。                               |
| コマンドラインモード  | Exコマンドなどが実行できる。                                         |
|-----------------------+----------------------------------------------------------------------|
| Exモード              | コマンドラインモードと似ているが、コマンド入力後もExモードに留まる。 |
| Terminal-Jobモード    | ターミナルウィンドウが実行できる。                                   |
| Terminal-Normalモード | ターミナルウィンドウをノーマルモードを使用。変更は不可。             |
|-----------------------+----------------------------------------------------------------------|

【Mode切り替え】
|----------------+----------------+--------------+----------------------------------------------|
| Mode前         | Mode後         | 切り替えキー | 備考                                         |
|----------------+----------------+--------------+----------------------------------------------|
| ノーマル       | 挿入           | i            | カーソル位置前から入力開始                   |
|                |                | a            | カーソル位置後から入力開始                   |
|                |                | I            | カーソル行の先頭単語から入力開始             |
|                |                | A            | カーソル行末から入力開始                     |
|                |                | s            | カーソル行の単語削除語、その位置から入力開始 |
|                |                | S            | カーソル行削除後、行頭から入力開始           |
|----------------+----------------+--------------+----------------------------------------------|
| ノーマル       | コマンドライン | :            | -                                            |
|----------------+----------------+--------------+----------------------------------------------|
| ノーマル       | ビジュアル     | v            | カーソル位置から選択開始                     |
|                |                | V            | カーソル行を選択して開始                     |
|                |                | Ctrl-v       | カーソル位置から矩形選択開始                 |
|----------------+----------------+--------------+----------------------------------------------|
| 挿入           | ノーマル       | <Esc>,Ctrl-c |                                              |
| コマンドライン | ノーマル       |              |                                              |
| ビジュアル     | ノーマル       |              |                                              |
|----------------+----------------+--------------+----------------------------------------------|

【タグ操作】
|----------+----------------------+-----------------------------------------------------------------|
| キー     | Exコマンド           | 内容                                                            |
|----------+----------------------+-----------------------------------------------------------------|
| Ctrl-]   | :[count]ta[g] {name} | カーソル下 or {name}を定義へジャンプ。タグスタックに積まれる。  |
| Ctrl-T   | :[count]po[p]        | タグスタックから古いエントリにジャンプ（戻る）。                |
|----------+----------------------+-----------------------------------------------------------------|
| -        | :ts[elect] {name}    | {name}にマッチするタグをリスト表示する。                        |
| g Ctrl-] | :tj[ump] {name}      | :tselectとほぼ同じだが、適合するtagが１つだけのときは直接移動。 |
| -        | :stj[ump] {name}     | :tjumpを実行し、ウィンドウを分割して移動。                      |
|----------+----------------------+-----------------------------------------------------------------|
| -        | :tags                | tagsスタックの内容を表示する。                                  |
|----------+----------------------+-----------------------------------------------------------------|

【バッファ・スクリーン・ウィンドウの違い】
|------------+------------------------------------------------------------------------------|
| 名称       | 説明                                                                         |
|------------+------------------------------------------------------------------------------|
| バッファ   | テキスト行が入っている。一般的にファイルから読み込む。                       |
| スクリーン | Vimが使う領域全体。端末ウィンドウを指す場合もある。                          |
| ウィンドウ | バッファが表示される場所。１つのバッファが複数のウィンドウを持つことが可能。 |
|------------+------------------------------------------------------------------------------|

【キーマップ確認】
|------------+--------------------------------------------|
| Exコマンド | 内容                                       |
|------------+--------------------------------------------|
| :map       | すべてのキーマップを確認する。             |
| :imap      | インサートモードのキーマップを確認する。   |
| :nmap      | ノーマルモードのキーマップを確認する。     |
| :vmap      | ヴィジュアルモードのキーマップを確認する。 |
|------------+--------------------------------------------|

****************************************************************************************************
* コマンドライン関連
****************************************************************************************************
【コマンドラインでのカーソル移動】
|-----------+----------|
| キー      | 移動内容 |
|-----------+----------|
| <Left>    | １文字左 |
| <Right>   | １文字右 |
|-----------+----------|
| <S-Left>  | １単語左 |
| <C-Left>  |          |
|-----------+----------|
| <S-Right> | １単語右 |
| <C-Right> |          |
|-----------+----------|
| Ctrl-b    | 行頭     |
| <Home>    |          |
|-----------+----------|
| Ctrl-e    | 行末     |
| <End>     |          |
|-----------+----------|

【コマンドラインでの削除】
|--------+--------------|
| キー   | 削除内容     |
|--------+--------------|
| <BS>   | 直前の１文字 |
| Ctrl-w | 直前の１単語 |
| Ctrl-u | 全て削除     |
|--------+--------------|

【コマンドラインでのキャンセル】
|--------|
| キー   |
|--------|
| <Esc>  |
| Ctrl-c |
|--------|

【コマンドライン補完】
|-----------------------------+------------------------|
| キー                        | 内容                   |
|-----------------------------+------------------------|
| <Tab>                       | 補完                   |
| Ctrl-d                      | 補完候補一覧を表示     |
| Ctrl-l                      | 共通したところまで補完 |
| (複数の補完候補あり) <Tab>  | 次の候補を表示         |
| (複数の補完候補あり) Ctrl-p | 前の候補を表示         |
|-----------------------------+------------------------|

【コマンドラインウィンドウ】
|-----------------------+----------------------|
| キー                  | 内容                 |
|-----------------------+----------------------|
| (ノーマルモード時) q: | ウィンドウ起動       |
| <Enter>               | 現在行のコマンド実行 |
|-----------------------+----------------------|

****************************************************************************************************
* レジスタ関連
****************************************************************************************************
【レジスタの種類】
|----------------------------+------------+----------------------------------------------------------------|
| 種類                       | レジスタ名 | 内容                                                           |
|----------------------------+------------+----------------------------------------------------------------|
| 無名レジスタ               | "          | 最後に使われたレジスタと同じ内容(ただし消去専用レジスタは例外) |
| 番号付きレジスタ           | 1～9       | コピーや削除などのときに格納(1が最新)                          |
| 小削除用レジスタ           | -          | 範囲が１行以下の削除コマンドで削除されたテキストを格納         |
| 名前付きレジスタ           | a～z, A～Z | ユーザー指定されたときに格納                                   |
| 読み取り専用レジスタ       | .          | 最後に挿入されたテキストが格納                                 |
|                            | %          | カレントファイルの名前が格納                                   |
|                            | :          | 直近に実行されたコマンドラインの内容が格納                     |
| 代替バッファ用レジスタ     | #          | カレントウィンドウの代替ファイルの名前を格納                   |
| expression用レジスタ       | =          | レジストを使いコマンドで式を評価するために使用                 |
| 選択領域用レジスタ         | *, +, ~    | GUIで選択されたテキストを格納したり取り出すために使用          |
| 消去専用レジスタ           | _          | 他のレジスタに影響を与えないために使用                         |
| 最終検索パターン用レジスタ | /          | 最後に使われた検索パターンを格納                               |
|----------------------------+------------+----------------------------------------------------------------|

【各モードでのレジスタの使い方】
|------------------+-------------------------------+----------------------------------------------------|
| モード           | 使い方                        | 備考                                               |
|------------------+-------------------------------+----------------------------------------------------|
| ノーマルモード   | " + {レジスタ} + {オペレータ} | {レジスタ}を省略した場合、無名レジスタが使用される |
| 挿入モード       | Ctrl-r + {レジスタ}           |                                                    |
| ビジュアルモード | " + {レジスタ} + {オペレータ} |                                                    |
| コマンドモード   | Ctrl-r + {レジスタ}           |                                                    |
|------------------+-------------------------------+----------------------------------------------------|

【レジスタ関連のコマンド】
|--------------------+--------------------------|
| Exコマンド         | 内容                     |
|--------------------+--------------------------|
| :reg[isters]       | 全てのレジスタを表示     |
| :reg[isters] {arg} | {arg}のレジスタを表示    |
|--------------------+--------------------------|
| di[splay]          | :reg[isters]と同様       |
| di[splay] {arg}    | :reg[isters] {arg}と同様 |
|--------------------+--------------------------|

****************************************************************************************************
* 検索・置換関連 
****************************************************************************************************
【検索実行】
|-------------------+--------------------+---------------------------------------------|
| キー              | Exコマンド         | 内容                                        |
|-------------------+--------------------+---------------------------------------------|
| /{pattern}[/]<CR> | :/{pattern}[/]<CR> | {pattern}を前方検索                         |
| ?{pattern}[?]<CR> | :?{pattern}[?]<CR> | {pattern}を後方検索                         |
|-------------------+--------------------+---------------------------------------------|
| n                 | -                  | 最後の"/"か"?"を繰り返す                    |
| N                 | -                  | 最後の"/"か"?"を逆方向に繰り返す            |
|-------------------+--------------------+---------------------------------------------|
| *                 | -                  | 以下の優先順位の単語を前方検索              |
|                   |                    | １．カーソル位置のキーワード(iskeyword)     |
|                   |                    | ２．現在行、カーソル後ろの最初のキーワード  |
|                   |                    | ３．カーソル位置の単語(WORD)                |
|                   |                    | ４．現在行、カーソル後ろの最初の単語        |
| #                 | -                  | "*"の後方検索                               |
|-------------------+--------------------+---------------------------------------------|
| CTRL-C            | -                  | 検索の中止                                  |
|-------------------+--------------------+---------------------------------------------|
| -                 | :noh[lsearch]      | 'hlsearch' オプションによる強調表示をやめる |
|-------------------+--------------------+---------------------------------------------|

【メタ文字の扱い（magicモード）】
|------------+-------+---------+--------------+----------------------------|
| very magic | magic | nomagic | very nomagic | マッチするもの             |
| \v         | \m    | \M      | \V           |                            |
|------------+-------+---------+--------------+----------------------------|
| $          | $     | $       | \$           | 行末                       |
| .          | .     | \.      | \,           | 何か１文字                 |
| *          | *     | \*      | \*           | 直前のアトムの繰り返し     |
| ~          | ~     | \~      | \~           | 直前の置換文字列           |
| ()         | \(\)  | \(\)    | \(\)         | グループ化してアトムにする |
| ｜         | \｜   | \｜     | \｜          | 選択の区切り               |
| \a         | \a    | \a      | \a           | 英字                       |
| \\         | \\    | \\      | \\           | リテラルのバックスラッシュ |
| \,         | \.    | .       | .            | リテラルのドット           |
| \{         | {     | {       | {            | リテラルの'{'              |
| a          | a     | a       | a            | リテラルの'a'              |
|------------+-------+---------+--------------+----------------------------|

****************************************************************************************************
* diffモード関連
****************************************************************************************************
【diffモード - 起動】
|----------------------------------+----------------------------------+----------------------------------------------|
| コマンドライン                   | Exコマンド                       | 内容                                         |
|----------------------------------+----------------------------------+----------------------------------------------|
| vim -d {filename1} {filename2}   | -                                | 差分モードでvimを起動                        |
| vimdiff {filename1} {filename2}  | -                                | 差分モードでvimを起動(vim -d のエイリアス)   |
| gvim -d {filename1} {filename2}  | -                                | 差分モードでgvimを起動                       |
| gvimdiff {filename1} {filename2} | -                                | 差分モードでgvimを起動(gvim -d のエイリアス) |
|----------------------------------+----------------------------------+----------------------------------------------|
| -                                | :diffs[plit] {filename}          | {filename}との差分結果を水平分割して表示     |
| -                                | :veztical diffs[plit] {filename} | {filename}との差分結果を垂直分割して表示     |
|----------------------------------+----------------------------------+----------------------------------------------|
| -                                | :diffthis                        | カレントウィンドウを差分対象とする           |
| -                                | :windo diffthis                  | 開いているバッファの差分を表示               |
|----------------------------------+----------------------------------+----------------------------------------------|

【diffモード - 差分箇所へ移動】
|------+--------------------|
| キー | 内容               |
|------+--------------------|
| [c   | 前の差分へジャンプ |
| ]c   | 次の差分へジャンプ |
|------+--------------------|

【diffモード - マージ】
|-----------+------------------------------------------------------|
| キー      | 内容                                                 |
|-----------+------------------------------------------------------|
| diffg[et] | 現在のバッファに対して、比較先のバッファの内容を反映 |
| diffp[ut] | 比較先のバッファに対して、現在のバッファの内容を反映 |
|-----------+------------------------------------------------------|

【diffモード - 終了】
|------------------+--------------------------------------|
| Exコマンド       | 内容                                 |
|------------------+--------------------------------------|
| :diffo[ff]       | カレントウィンドウの差分モードを終了 |
| :windo diffo[ff] | 全てのウィンドウの差分モードを終了   |
|------------------+--------------------------------------|

****************************************************************************************************
* 外部コマンド関連
****************************************************************************************************
【外部コマンド - 起動】
|----------------+------------------------------------------------------|
| Exコマンド     | 内容                                                 |
|----------------+------------------------------------------------------|
| :sh[ell]       | シェルを起動                                         |
| :ter[mina]     | 新しい端末ウィンドウをVim内に開く                    |
|----------------+------------------------------------------------------|

【外部コマンド - 実行】
|----------------+------------------------------------------------------|
| :!{cmd}        | 外部コマンドを実行                                   |
| :r[ead] !{cmd} | 外部コマンド実行し、実行結果をカーソルの後ろに挿入。 |
|----------------+------------------------------------------------------|

****************************************************************************************************
* バッファ
****************************************************************************************************
【バッファ表示】
|------------------+------------------|
| Exコマンド       | 内容             |
|------------------+------------------|
| :ls [flags]      | 全バッファを表示 |
| :buffers [flags] |                  |
| :files [flags]   |                  |
|------------------+------------------|

[flags]のオプション指定は以下の通り。
|------------+--------------------------|
| オプション | 内容                     |
|------------+--------------------------|
| +          | 変更されたバッファ       |
| =          | リードオンリーのバッファ |
| a          | アクティブバッファ       |
| h          | 隠れたバッファ           |
| %          | 現在のバッファ           |
|------------+--------------------------|

****************************************************************************************************
* Exコマンド関連
****************************************************************************************************
【ユーザー定義コマンド】
|---------------------------------------+---------------------------------------------------|
| Exコマンド                            | 内容                                              |
|---------------------------------------+---------------------------------------------------|
| :com[mand]                            | すべてのユーザー定義コマンドを一覧を表示          |
| :com[mand] {cmd}                      | {cmd}で始まるユーザー定義コマンドを一覧を表示     |
|---------------------------------------+---------------------------------------------------|
| :com[mand][!] [{attr}...] {cmd} {rep} | ユーザー定義コマンドを定義する。                  |
|                                       | !を付けると再定義。                               |
|                                       | {attr}はコマンド属性。                            |
|                                       | {cmd}はコマンド名で、{rep}は{cmd}の置き換え文字。 |
|---------------------------------------+---------------------------------------------------|

****************************************************************************************************
* quickfix
****************************************************************************************************
【オープン、クローズ】
|---------------------+------------------------------------------------------+----------------------------------------|
| Exコマンド          | 内容                                                 | 備考                                   |
|---------------------+------------------------------------------------------+----------------------------------------|
| :cope[n]            | quickfixウィンドウを開く                             | 高さは10行                             |
| :cope[n] {height}   | {height}の高さでquickfixリストを開く                 |                                        |
|---------------------+------------------------------------------------------+----------------------------------------|
| :{count}cn[ext]     | {count}個後の内容を表示                              |                                        |
| :{count}cN[ext]     | {count}個前の内容を表示                              |                                        |
| :{count}cp[revious] | :cN[ent]と同様                                       |                                        |
|---------------------+------------------------------------------------------+----------------------------------------|
| :cw[indow]          | 認識されたエラーがあるときにquickfixウィンドウを開く | 既に開いていてエラーがない場合は閉じる |
| :ccl[ose]           | quickfixウィンドウを閉じる                           |                                        |
|---------------------+------------------------------------------------------+----------------------------------------|

****************************************************************************************************
* Pythonインターフェース
****************************************************************************************************
【実行方法】
|--------------------------------+---------------------------+--------------------------+--------------------------------|
| 実行方法                       | Python3                   | Python2                  | 備考                           |
|--------------------------------+---------------------------+--------------------------+--------------------------------|
| 直接記述して実行(ワンライナー) | :py[thon]3 {stmt}         | :py[thon] {stmt}         | {stmt}にPythonのコードを記述   |
|--------------------------------+---------------------------+--------------------------+--------------------------------|
| エンドマーカーを使用して実行   | :py[thon]3 << {endmarker} | :py[thon] << {endmarker} | {script}にPythonのコードを記述 |
|                                | {script}                  | {script}                 |                                |
|                                | {endmarker}               | {endmarker}              |                                |
|--------------------------------+---------------------------+--------------------------+--------------------------------|
| Pythonファイルから実行         | :py3file {file}           | :pyfile {file}           | {file}を実行する               |
|--------------------------------+---------------------------+--------------------------+--------------------------------|

****************************************************************************************************
* その他 
****************************************************************************************************
【カレントディレクトリ】
|-----------------+------------------------------------------------------------------------|
| Exコマンド      | 内容                                                                   |
|-----------------+------------------------------------------------------------------------|
| :cd             | Unix以外、カレントディレクトリを表示                                   |
|                 | Unixはカレントディレクトリをホームディレクトリに変更                   |
| :pw[d]          | カレントディレクトを表示                                               |
|-----------------+------------------------------------------------------------------------|
| :cd {path}      | カレントディレクトリを{path}に変更                                     |
| :chd[ir] {path} | :cdと同じ                                                              |
| :lc[d] {path}   | カレントウィンドウにのみ反映される:cdコマンド                          |
| :lch[dir]       | :lcdと同じ                                                             |
|-----------------+------------------------------------------------------------------------|
| :cd -           | 前のカレントディレクトに移動。                                         |
|-----------------+------------------------------------------------------------------------|
| :cd %:h         | カレントバッファのファイルパスをカレントディレクトリに変更(グローバル) |
| :lcd %:h        | カレントバッファのファイルパスをカレントディレクトリに変更(ローカル)   |
|-----------------+------------------------------------------------------------------------|

【スクレイピング（url抽出）】
|-------------------------------------+-------------------------------------------------------|
| Exコマンド                          | 内容                                                  |
|-------------------------------------+-------------------------------------------------------|
| :e {url}                            | {url}をcurlコマンドを実行し、curlで取得したものを開く |
|-------------------------------------+-------------------------------------------------------|
| :%s/></>\r</g                       | htmlタグ間に改行を挿入                                |
| :filetype indent on                 | filetypeの検出、およびインデントのロードを有効化      |
| :setf html                          | filetypeにhtmlを設定                                  |
| :normal gg=G                        | ファイル全体を整形                                    |
|-------------------------------------+-------------------------------------------------------|
| :%v/<a/d                            | 「<a」を含む行を抽出                                  |
|-------------------------------------+-------------------------------------------------------|
| :%s/^.*href="\([^"]*\)"[^>]*.*$/\1/ | hrefのurlを取得                                       |
|-------------------------------------+-------------------------------------------------------|
