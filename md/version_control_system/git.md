# git

## 用語

|      用語      |                                           内容                                           |
| -------------- | ---------------------------------------------------------------------------------------- |
| リポジトリ     | ファイルの蓄積場所。ローカルリポジトリとリモートリポジトリがある。                       |
| ワークツリー   | ユーザーが編集している作業中のディレクトリのこと。                                       |
| インデックス   | 登録(add)後、コミット(commit)前の場所。                                                  |
| チェックアウト | リポジトリにあるブランチをワーキングツリーに展開すること。                               |
| リビジョン     | コミット毎に作成されるハッシュ値（世代管理に使用）。                                     |
| ベアリポジトリ | 作業ディレクトリを持たないリポジトリ。外部に公開し、作業を中継するリポジトリとして使う。 |

## 初期化

|          コマンド          |   オプション    |                       内容                       |                            備考                            |
| -------------------------- | --------------- | ------------------------------------------------ | ---------------------------------------------------------- |
| git init                   | -               | ディレクトリにリポジトリを新規作成または初期化   |                                                            |
| git init                   | --bare --shared | ディレクトリにリモートリポジトリを作成           | ベアリポジトリを作成し、リポジトリを複数ユーザー間で共有。 |
| git clone [repository url] | -               | ディレクトリに指定したリポジトリのクローンを作成 |                                                            |

## インデックス

|      コマンド      | オプション |                    内容                    |        備考        |
| ------------------ | ---------- | ------------------------------------------ | ------------------ |
| git add [filename] | -          | [filename]をインデックスへ追加             |                    |
| git add .          | -          | カレントディレクトリ配下の全ファイルを追加 |                    |
| git add *.txt      | -          | 拡張子txtのファイルを全て追加              | 正規表現を使用可能 |

## コミット

|  コマンド  |  オプション   |                 内容                  |
| ---------- | ------------- | ------------------------------------- |
| git commit | -m [message]  | コメント[message]でコミット           |
| git commit | -am [message] | ワークツリーからコミット（addを省略） |
| git commit | --amend       | コミットのコメントを修正              |

## プッシュ

|                    コマンド                     |    オプション     |            内容            |
| ----------------------------------------------- | ----------------- | -------------------------- |
| git push [remote repository] [local repository] | -                 | local -> remote へ更新する |
| git push [remote]                               | --delete [branch] | [remote]の[branch]を削除   |

## プル

|          コマンド          | オプション |                            内容                            |                      備考                      |
| -------------------------- | ---------- | ---------------------------------------------------------- | ---------------------------------------------- |
| git pull                   | -          | リモートリポジトリから最新の状態をローカルリポジトリに反映 | 上流ブランチが設定されていると、引数なしで可能 |
| git pull [remote] [branch] | -          | [remote]から[branch]を取得し、ローカルリポジトリに反映     | 「git fetch」＋「git merge」を実行             |

## ステータス

|  コマンド  | オプション |                     内容                     |
| ---------- | ---------- | -------------------------------------------- |
| git status | -          | ローカルリポジトリとインデックスの状態を表示 |

## ブランチ

|         コマンド         | オプション  |                         内容                          |
| ------------------------ | ----------- | ----------------------------------------------------- |
| git branch [branch name] | -           | [branch name]でブランチを作成                         |
| git branch               | -           | ブランチの一覧を表示                                  |
| git branch               | -vv         | 上流（アップストリーム）ブランチの確認                |
| git branch               | -d [branch] | ローカルの[branch]を削除                              |
| git branch               | -a          | git getch後に当コマンドでリモートブランチの一覧を取得 |

## チェックアウト

|          コマンド           | オプション |                内容                 |
| --------------------------- | ---------- | ----------------------------------- |
| git checkout [branch name]  | -          | [branch name]にブランチを切り替える |